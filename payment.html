<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Aamir Foods</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    
    <link rel="stylesheet" href="Customstyle.css">
    <link rel="stylesheet" href="ResponsiveStyle.css">

    <style>
        .payment-wrapper {
            padding-top: 10rem;
            padding-bottom: 5rem;
            background: #f9f9f9;
        }
        .pay-card {
            border: 2px solid #eee;
            border-radius: 15px;
            padding: 30px;
            background: #fff;
        }
        .nav-pills .nav-link { color: gray; font-weight: 600; border: 1px solid #ddd; margin: 0 5px; }
        .nav-pills .nav-link.active { background-color: #dc3545 !important; border-color: #dc3545; }
        
        .upi-box {
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
        }
        .upi-box:hover { border-color: #dc3545; }
        .qr-code { max-width: 150px; margin: 20px auto; border: 5px solid #f1f1f1; }
    </style>
</head>
<body>

<header>
    <nav class="navbar fixed-top navbar-expand-lg navigation-wrap">
        <div class="container">
            <a class="navbar-brand" href="index.html"> <img src="image/foodlogo1.png" alt="Logo" width="110" height="110"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 fw-semibold">
                    <li class="nav-item"><a class="nav-link" href="index.html#Home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#Explore-food">Food Menu</a></li>
                    <li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
                    <li class="nav-item d-flex align-items-center">
  <a class="nav-link" href="login.html">Login</a>
  <div class="cart-icon ps-3" style="cursor: pointer; position: relative;">
    <i class="fa-solid fa-cart-shopping text-danger" style="font-size: 1.2rem;"></i>
    <span id="cart-count" class="badge rounded-pill bg-danger" style="position: absolute; top: -10px; right: -10px; font-size: 0.7rem;">0</span>
  </div>
</li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<section class="payment-wrapper">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="pay-card shadow-sm">
                    <h2 class="text-center mb-4">Complete Payment</h2>
                    
                    <ul class="nav nav-pills nav-justified mb-4" id="pills-tab">
                        <li class="nav-item">
                            <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#tab-card">Debit/Credit Card</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tab-upi">UPI / QR Code</button>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="tab-card">
                            <form id="cardForm">
                                <div class="mb-3">
                                    <label class="form-label">Card Number</label>
                                    <input type="text" class="form-control danger-outline" placeholder="0000 0000 0000 0000" required>
                                </div>
                                <div class="row">
                                    <div class="col-6 mb-3"><input type="text" class="form-control danger-outline" placeholder="MM/YY" required></div>
                                    <div class="col-6 mb-3"><input type="password" class="form-control danger-outline" placeholder="CVV" required></div>
                                </div>
                                <button type="submit" class="main-button w-100 mt-3 py-3">PAY NOW</button>
                            </form>
                        </div>

                        <div class="tab-pane fade text-center" id="tab-upi">
                            <div class="row g-2 mb-4">
                                <div class="col-4"><div class="upi-box">Paytm</div></div>
                                <div class="col-4"><div class="upi-box">PhonePe</div></div>
                                <div class="col-4"><div class="upi-box">Google Pay</div></div>
                            </div>
                            <input type="text" class="form-control danger-outline mb-3" placeholder="Enter UPI ID (e.g. name@okhdfc)">
                            <p>-- OR --</p>
                            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=AamirFoodsPay" class="qr-code">
                            <p class="small">Scan QR to pay via any UPI App</p>
                            <button class="main-button w-100 py-3 mt-2">VERIFY & PAY</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<footer>
    <section id="footer">
      <div class="container-fluid footer-section py-5">
        <div class="row text-light">
          <div class="col-12 text-center footer-wrapper ">
            <a href="#">Register</a> <a href="#">Forum</a> <a href="#">FAQ</a>
          </div>
          <div class="footer-social pt-4 text-center">
            <i class="fa-brands fa-facebook-f"></i> <i class="fa-brands fa-twitter"></i> <i class="fa-brands fa-instagram"></i>
          </div>
          <div class="Rights text-center pt-5">
            <p class="text-light">@ 2025. Aamir foods. All rights reserved.</p>
          </div>
        </div>
      </div>
    </section>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
<script src="main.js"></script> <script>
    // Simple alert for payment success
    document.querySelectorAll('form, button.main-button').forEach(item => {
        item.addEventListener('submit', function(e) {
            e.preventDefault();
            alert("Payment Successful! Your food is being prepared. üçî");
            window.location.href = "index.html";
        });
    });



    document.addEventListener('DOMContentLoaded', () => {
    // 1. Get data from localStorage
    const savedPrice = localStorage.getItem('selectedPrice');
    const totalItems = localStorage.getItem('cartCount') || 1;
    
    // 2. Target the price display element (ensure your HTML has these IDs)
    const priceElement = document.getElementById('final-price');
    const payBtnCard = document.getElementById('pay-btn-card');
    const payBtnUpi = document.getElementById('pay-btn-upi');

    if (savedPrice) {
        const totalPrice = savedPrice; // Or savedPrice * totalItems if you want cumulative
        
        // Update the display text
        if(priceElement) priceElement.textContent = "Rs " + totalPrice;
        
        // Update the text on the actual payment buttons
        if(payBtnCard) payBtnCard.textContent = "Pay Rs " + totalPrice;
        if(payBtnUpi) payBtnUpi.textContent = "Verify & Pay Rs " + totalPrice;
    }
});

// Clear cart after payment success
function handlePaymentSuccess() {
    alert("Payment Successful! Your food is being prepared. üçî");
    localStorage.removeItem('cartCount');
    localStorage.removeItem('selectedPrice');
    window.location.href = "index.html";
}
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const savedPrice = localStorage.getItem('selectedPrice');
    const priceElement = document.getElementById('final-price'); // Add this ID to your HTML total
    
    if (savedPrice && priceElement) {
        priceElement.textContent = "Rs " + savedPrice;
    }
});

// Run this when the "Pay" button is clicked
function handleFinalPayment() {
    alert("Payment Successful! Order Placed.");
    localStorage.removeItem('cartCount');
    localStorage.removeItem('selectedPrice');
    window.location.href = "index.html";
}
</script>
</body>
</html>